#!/bin/bash

# workouts array
declare -a WORKOUTS=("Jumping Jacks" "Torso stretches (20s)" "Squats" "Down Stretch" "Crunches" "Lunges" "Butterfly Stretch" "Supermans" "Side Kicks" "Neck Exercises" "Calf Raises and Climbers (30s)" "Triceps and Biceps (30s)")

# zoom in
xdotool key Ctrl+plus
xdotool key Ctrl+plus
xdotool key Ctrl+plus
xdotool key Ctrl+plus
xdotool key Ctrl+plus
xdotool key Ctrl+plus

printf "\n\n\n\n\n\n\n"
    
# turn off tmux status bar and cursor
clear
tmux set status off
tput civis


# 5 seconds to get ready
printf "\e[1;33mGet ready!\e[0m\n\n"

# start workouts
for workout in "${WORKOUTS[@]}"; do

    # exercise name
    printf "\e[1;32m$workout\e[0m\n\n"

    # starting in: ...
    secs=5
    while [ $secs -gt 0 ]
    do
        echo -ne "Starting in: $secs\033[0K\r"
        sleep 1
        secs=$(( secs -1 ))
    done

    # exercise countdown
    secs=60
    while [ $secs -gt 0 ]
    do
        echo -ne "$secs\033[0K\r"
        sleep 1
        secs=$(( secs -1 ))
    done

    # exercise finished sound
    aplay ~/Music/singing_bowl.wav >/dev/null 2>&1 &

done

# workout finished message
printf "\n"
echo "Finished!"
printf "\n"

# turn on tmux status bar and cursor
tmux set status on
tput cnorm

# Zoom back out
xdotool key Ctrl+minus
xdotool key Ctrl+minus
xdotool key Ctrl+minus
xdotool key Ctrl+minus
xdotool key Ctrl+minus
xdotool key Ctrl+minus

